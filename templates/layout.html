<!DOCTYPE html>
<html lang="en">
    <head>
        {% block head %}
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='img/apple-touch-icon.png') }}">
        <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='img/favicon-32x32.png') }}">
        <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='img/favicon-16x16.png') }}">
        <link rel="manifest" href="{{ url_for('static', filename='img/site.webmanifest') }}">
        <link rel="mask-icon" href="{{ url_for('static', filename='img/safari-pinned-tab.svg') }}" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
                new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
            j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
            'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NBZJ9V3Q');</script>
        <!-- End Google Tag Manager -->
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-23FECPTK6S"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-23FECPTK6S');
        </script>
        <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='img/favicon.ico') }}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
              integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"
                integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
                crossorigin="anonymous" async></script>
        <script src="https://kit.fontawesome.com/d2476d5d93.js" crossorigin="anonymous" async></script>
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" class="style">
        <title>{% block title %}{% endblock %}</title>
        {% endblock %}
    </head>
    <body>
        <!-- CONTACT MODAL -->
        <div class="modal" id="contactModal">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title">Contact</h5>
                        <button class="close" data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">
                        <form method="post" class="form-horizontal needs-validation" role="form" action='/contact'>
                            <div class="form-group has-validation">
                                <label class="form-label" for="name">Full name</label>
                                <input class="form-control form-control-sm" id="name" name="name" placeholder="Enter your full name" autocomplete="off" required>
                                <div class="valid-feedback">
                                    Looks good!
                                </div>
                            </div>
                            <div class="form-group has-validation">
                                <label class="form-label" for="email">Email</label>
                                <input class="form-control form-control-sm" type="text" name="email" id="email" placeholder="Enter your email address" autocomplete="off" required>
                                <div class="invalid-feedback">
                                    Please provide a valid email.
                                </div>
                            </div>
                            <div class="form-group has-validation">
                                <label class="form-label" for="message">Message</label>
                                <textarea class="form-control" id="message" rows="3" name="message" required></textarea>
                                <div class="invalid-feedback">
                                    Please provide a message.
                                </div>
                            </div>
                            <input id="alert-btn" class="btn btn-primary" type="submit" value="Submit">
                        </form>
                    </div>
                    <div class="modal-footer">
                        <div class="alert" id="alert-container"></div>
                    </div>
                </div>
            </div>
        </div>

        {% block alert %}{% endblock %}

        <!-- NAVBAR -->
        <nav class="navbar navbar-expand-sm navbar-dark bg-dark sticky-top">
            <div class="container">
                <img class="logo" src="{{ url_for('static', filename='img/logo.avif') }}" alt="Logo" />
                <button class="navbar-toggler" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-label="navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="home">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="explore">Explore</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="about">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#contactModal" data-toggle="modal" data-target="#contactModal">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
            </div>
        </nav>

        <section id="home-section">
            {% block content %}{% endblock %}
            <div class="push"></div>
        </section>

        {% block extra %}{% endblock %}

        <!-- FOOTER -->
        <footer class="d-flex row-hl border-top">
            <div class="mr-auto p-2 item-hl"><span class="text-muted">Copyright &copy; <span id="year"></span>
        <a class="text-muted" href="/">DX-Dash</a></span></div>
            <div class="p-2 item-hl">
                <a class="text-muted" href="#contactModal" data-toggle="modal" data-target="#contactModal" aria-label="contatModal"><i
                        class="fa-solid fa-envelope fa-2x"></i></a>
            </div>
        </footer>

        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NBZJ9V3Q"
                          height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->

        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" class="style">

    </body>
    <script src="../static/js/display_cities.js" async></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
            integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
            crossorigin="anonymous" async></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
            crossorigin="anonymous" async></script>
    <script>
        $('#year').text(new Date().getFullYear());
    </script>
    <script>
        let button = document.querySelector("#alert-btn");
        let container = document.querySelector("#alert-container");
        const name = document.getElementById("name");
        const email = document.getElementById("email");
        const message = document.getElementById("message");
        button.addEventListener("click", () => {
            if (name.validity.valid && email.validity.valid && message.validity.valid) {
                container.innerHTML =
                    `<div class="alert alert-info alert-dismissible" role="alert">
                 Thank you for your message. We will respond to you as soon as possible.
                 </div>`;
            }
        })
    </script>
    {% block script %}{% endblock %}
</html>